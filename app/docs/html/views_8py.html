<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>EECS 448 Project: views.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EECS 448 Project
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Python Calendar</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">views.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Manages login, session, and server-side interaction of project pages.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a33f9468136d69c9ef1dd37b3f469b690"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a33f9468136d69c9ef1dd37b3f469b690"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>app.views.delete</b> ()</td></tr>
<tr class="separator:a33f9468136d69c9ef1dd37b3f469b690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaf59a2cf0ccf654ea7d427ce34bd646"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acaf59a2cf0ccf654ea7d427ce34bd646"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>app.views.index</b> (view=None)</td></tr>
<tr class="separator:acaf59a2cf0ccf654ea7d427ce34bd646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a2f71759324c512f85a8c3b3247643"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="views_8py.html#ad7a2f71759324c512f85a8c3b3247643">app.views.login</a> ()</td></tr>
<tr class="memdesc:ad7a2f71759324c512f85a8c3b3247643"><td class="mdescLeft">&#160;</td><td class="mdescRight">login request behavior  <a href="views_8py.html#ad7a2f71759324c512f85a8c3b3247643">More...</a><br /></td></tr>
<tr class="separator:ad7a2f71759324c512f85a8c3b3247643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab028cc1ea5e110fd0123581e9119b01"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="views_8py.html#aab028cc1ea5e110fd0123581e9119b01">app.views.logout</a> ()</td></tr>
<tr class="memdesc:aab028cc1ea5e110fd0123581e9119b01"><td class="mdescLeft">&#160;</td><td class="mdescRight">logout request behavior  <a href="views_8py.html#aab028cc1ea5e110fd0123581e9119b01">More...</a><br /></td></tr>
<tr class="separator:aab028cc1ea5e110fd0123581e9119b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a183993ab7922bdd22fa9f8aa657a9c4f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="views_8py.html#a183993ab7922bdd22fa9f8aa657a9c4f">app.views.process</a> ()</td></tr>
<tr class="memdesc:a183993ab7922bdd22fa9f8aa657a9c4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">processes changes to details in calendar and logfile  <a href="views_8py.html#a183993ab7922bdd22fa9f8aa657a9c4f">More...</a><br /></td></tr>
<tr class="separator:a183993ab7922bdd22fa9f8aa657a9c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accb2808eb43d7b94fb79c6d0ab01c5c3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="views_8py.html#accb2808eb43d7b94fb79c6d0ab01c5c3">app.views.viewChange</a> ()</td></tr>
<tr class="memdesc:accb2808eb43d7b94fb79c6d0ab01c5c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">handles routing for changing the client's view of the current day/week/month/year  <a href="views_8py.html#accb2808eb43d7b94fb79c6d0ab01c5c3">More...</a><br /></td></tr>
<tr class="separator:accb2808eb43d7b94fb79c6d0ab01c5c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b84f0e4c7bedd243c8a684e8db0c1e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88b84f0e4c7bedd243c8a684e8db0c1e"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>app.views.changeFocusDay</b> ()</td></tr>
<tr class="separator:a88b84f0e4c7bedd243c8a684e8db0c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36b428f7e7c0d1d77645eefee56365a2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36b428f7e7c0d1d77645eefee56365a2"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>app.views.changeFocusMonth</b> ()</td></tr>
<tr class="separator:a36b428f7e7c0d1d77645eefee56365a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe711a5ac5302330fadb2bc6870e0c52"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abe711a5ac5302330fadb2bc6870e0c52"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>app.views.page_not_found</b> (e)</td></tr>
<tr class="separator:abe711a5ac5302330fadb2bc6870e0c52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab2bcd64276d31af0674c8ac2f9503ecf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2bcd64276d31af0674c8ac2f9503ecf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>app.views.calendar_obj</b> = Calendar.Calendar(2016, 2017, 'logfile.txt')</td></tr>
<tr class="separator:ab2bcd64276d31af0674c8ac2f9503ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1cbd1cb152e18473257553e90a9097"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0d1cbd1cb152e18473257553e90a9097"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>app.views.methods</b></td></tr>
<tr class="separator:a0d1cbd1cb152e18473257553e90a9097"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages login, session, and server-side interaction of project pages. </p>
<dl class="section author"><dt>Author</dt><dd>Stephen Longofono</dd></dl>
<pre class="fragment">This file defines all the viable addresses for our project webpages and how
</pre><p> they will interact on the server side. After directing visitors through a login process, a session is established to designate that a user is authenticated.</p>
<p>A calendar object is maintained for the lifetime of the server, created from scratch and populated with details from a logfile if present. There is only one user, so for this iteration there is only one logfile.</p>
<p>Each method is marked with a decorator, indicating that Flask should call that method when the address argument of app.route() is accessed by the user. Most methods handle the control of what the user can and cannot see or otherwise access. The process method interacts with client-side Javascript to parse and interpret input. Javascript is able to access objects passed into the render_template() method, and responds to the server via JSON. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="file_ad7a2f71759324c512f85a8c3b3247643"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.login </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>login request behavior </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">session</td><td>An implicit variable generated by flask, acts as a cryptographically signed cookie to store any information which should be preserved across requests </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">return</td><td>Redirects to the index() method, or A rendered HTML document of the login page if the login credentials are invalid</td></tr>
  </table>
  </dd>
</dl>
<p>The login will validate the user's input using a LoginForm and create a session for the user if the credentials are valid. The user and session are then redirected to the index() method. If the user credentials are invalid, the login page is re-rendered and feedback is provided. </p>

</div>
</div>
<a class="anchor" id="file_aab028cc1ea5e110fd0123581e9119b01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.logout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>logout request behavior </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">session</td><td>An implicit variable generated by flask, acts as a cryptographically signed cookie to store any information which should be preserved across requests </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">return</td><td>Redirects to the <a class="el" href="views_8py.html#ad7a2f71759324c512f85a8c3b3247643" title="login request behavior ">login()</a> method</td></tr>
  </table>
  </dd>
</dl>
<p>The logout will clear all data from the session field, and redirect to the <a class="el" href="views_8py.html#ad7a2f71759324c512f85a8c3b3247643" title="login request behavior ">login()</a> method </p>

</div>
</div>
<a class="anchor" id="file_a183993ab7922bdd22fa9f8aa657a9c4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.process </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>processes changes to details in calendar and logfile </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">JSON</td><td>This is an implicit parameter passed along via Flask's request construct. It is reconstructed as a dictionary on entry to this method. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">return</td><td>Returns a JSON-style object representing the status</td></tr>
  </table>
  </dd>
</dl>
<p>The process method will attempt to parse JSON-style form data sent from the client-side representing a day and its current details. The day in questions is located using the month and year passed in, and its details are replaced by those parsed from the JSON.</p>
<p>Assumes 'day', 'month', 'year', and 'date' are present </p>

</div>
</div>
<a class="anchor" id="file_accb2808eb43d7b94fb79c6d0ab01c5c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.views.viewChange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>handles routing for changing the client's view of the current day/week/month/year </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">JSON</td><td>This is an implicit parameter passed along via Flask's request construct. It is reconstructed as a dictionary on entry to this method. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">return</td><td>Returns a JSON-style object representing the status and a link to redirect to for client-side</td></tr>
  </table>
  </dd>
</dl>
<p>The viewChange method will attempt to parse JSON-style form data sent from the client-side representing a new view request. Acceptable values for the 'view' key are 'next', 'prev', 'day', 'week', 'month', or 'year'.</p>
<p>When necessary, the server-side calendar object is updated to point to the next or previous day. In this case, a link for the index in day view is provided in the return. Otherwise, a link to index is provided with a view matching the view specfified by the JSON.</p>
<p>Assumes 'view' is present and has a value. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
