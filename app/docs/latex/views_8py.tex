\hypertarget{views_8py}{}\section{views.\+py File Reference}
\label{views_8py}\index{views.\+py@{views.\+py}}


Manages login, session, and server-\/side interaction of project pages.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def {\bfseries app.\+views.\+delete} ()\hypertarget{views_8py_a33f9468136d69c9ef1dd37b3f469b690}{}\label{views_8py_a33f9468136d69c9ef1dd37b3f469b690}

\item 
def {\bfseries app.\+views.\+index} (view=None)\hypertarget{views_8py_acaf59a2cf0ccf654ea7d427ce34bd646}{}\label{views_8py_acaf59a2cf0ccf654ea7d427ce34bd646}

\item 
def \hyperlink{views_8py_ad7a2f71759324c512f85a8c3b3247643}{app.\+views.\+login} ()
\begin{DoxyCompactList}\small\item\em login request behavior \end{DoxyCompactList}\item 
def \hyperlink{views_8py_aab028cc1ea5e110fd0123581e9119b01}{app.\+views.\+logout} ()
\begin{DoxyCompactList}\small\item\em logout request behavior \end{DoxyCompactList}\item 
def \hyperlink{views_8py_a183993ab7922bdd22fa9f8aa657a9c4f}{app.\+views.\+process} ()
\begin{DoxyCompactList}\small\item\em processes changes to details in calendar and logfile \end{DoxyCompactList}\item 
def \hyperlink{views_8py_accb2808eb43d7b94fb79c6d0ab01c5c3}{app.\+views.\+view\+Change} ()
\begin{DoxyCompactList}\small\item\em handles routing for changing the client\textquotesingle{}s view of the current day/week/month/year \end{DoxyCompactList}\item 
def {\bfseries app.\+views.\+change\+Focus\+Day} ()\hypertarget{views_8py_a88b84f0e4c7bedd243c8a684e8db0c1e}{}\label{views_8py_a88b84f0e4c7bedd243c8a684e8db0c1e}

\item 
def {\bfseries app.\+views.\+change\+Focus\+Month} ()\hypertarget{views_8py_a36b428f7e7c0d1d77645eefee56365a2}{}\label{views_8py_a36b428f7e7c0d1d77645eefee56365a2}

\item 
def {\bfseries app.\+views.\+page\+\_\+not\+\_\+found} (e)\hypertarget{views_8py_abe711a5ac5302330fadb2bc6870e0c52}{}\label{views_8py_abe711a5ac5302330fadb2bc6870e0c52}

\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
{\bfseries app.\+views.\+calendar\+\_\+obj} = Calendar.\+Calendar(2016, 2017, \textquotesingle{}logfile.\+txt\textquotesingle{})\hypertarget{views_8py_ab2bcd64276d31af0674c8ac2f9503ecf}{}\label{views_8py_ab2bcd64276d31af0674c8ac2f9503ecf}

\item 
{\bfseries app.\+views.\+methods}\hypertarget{views_8py_a0d1cbd1cb152e18473257553e90a9097}{}\label{views_8py_a0d1cbd1cb152e18473257553e90a9097}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Manages login, session, and server-\/side interaction of project pages. 

\begin{DoxyAuthor}{Author}
Stephen Longofono
\end{DoxyAuthor}
\begin{DoxyVerb}This file defines all the viable addresses for our project webpages and how
\end{DoxyVerb}
 they will interact on the server side. After directing visitors through a login process, a session is established to designate that a user is authenticated.

A calendar object is maintained for the lifetime of the server, created from scratch and populated with details from a logfile if present. There is only one user, so for this iteration there is only one logfile.

Each method is marked with a decorator, indicating that Flask should call that method when the address argument of app.\+route() is accessed by the user. Most methods handle the control of what the user can and cannot see or otherwise access. The process method interacts with client-\/side Javascript to parse and interpret input. Javascript is able to access objects passed into the render\+\_\+template() method, and responds to the server via J\+S\+ON. 

\subsection{Function Documentation}
\index{views.\+py@{views.\+py}!login@{login}}
\index{login@{login}!views.\+py@{views.\+py}}
\subsubsection[{\texorpdfstring{login()}{login()}}]{\setlength{\rightskip}{0pt plus 5cm}app.\+views.\+login (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{views_8py_file_ad7a2f71759324c512f85a8c3b3247643}{}\label{views_8py_file_ad7a2f71759324c512f85a8c3b3247643}


login request behavior 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em session} & An implicit variable generated by flask, acts as a cryptographically signed cookie to store any information which should be preserved across requests \\
\hline
\mbox{\tt out}  & {\em return} & Redirects to the index() method, or A rendered H\+T\+ML document of the login page if the login credentials are invalid\\
\hline
\end{DoxyParams}
The login will validate the user\textquotesingle{}s input using a Login\+Form and create a session for the user if the credentials are valid. The user and session are then redirected to the index() method. If the user credentials are invalid, the login page is re-\/rendered and feedback is provided. \index{views.\+py@{views.\+py}!logout@{logout}}
\index{logout@{logout}!views.\+py@{views.\+py}}
\subsubsection[{\texorpdfstring{logout()}{logout()}}]{\setlength{\rightskip}{0pt plus 5cm}app.\+views.\+logout (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{views_8py_file_aab028cc1ea5e110fd0123581e9119b01}{}\label{views_8py_file_aab028cc1ea5e110fd0123581e9119b01}


logout request behavior 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em session} & An implicit variable generated by flask, acts as a cryptographically signed cookie to store any information which should be preserved across requests \\
\hline
\mbox{\tt out}  & {\em return} & Redirects to the \hyperlink{views_8py_ad7a2f71759324c512f85a8c3b3247643}{login()} method\\
\hline
\end{DoxyParams}
The logout will clear all data from the session field, and redirect to the \hyperlink{views_8py_ad7a2f71759324c512f85a8c3b3247643}{login()} method \index{views.\+py@{views.\+py}!process@{process}}
\index{process@{process}!views.\+py@{views.\+py}}
\subsubsection[{\texorpdfstring{process()}{process()}}]{\setlength{\rightskip}{0pt plus 5cm}app.\+views.\+process (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{views_8py_file_a183993ab7922bdd22fa9f8aa657a9c4f}{}\label{views_8py_file_a183993ab7922bdd22fa9f8aa657a9c4f}


processes changes to details in calendar and logfile 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em J\+S\+ON} & This is an implicit parameter passed along via Flask\textquotesingle{}s request construct. It is reconstructed as a dictionary on entry to this method. \\
\hline
\mbox{\tt out}  & {\em return} & Returns a J\+S\+O\+N-\/style object representing the status\\
\hline
\end{DoxyParams}
The process method will attempt to parse J\+S\+O\+N-\/style form data sent from the client-\/side representing a day and its current details. The day in questions is located using the month and year passed in, and its details are replaced by those parsed from the J\+S\+ON.

Assumes \textquotesingle{}day\textquotesingle{}, \textquotesingle{}month\textquotesingle{}, \textquotesingle{}year\textquotesingle{}, and \textquotesingle{}date\textquotesingle{} are present \index{views.\+py@{views.\+py}!view\+Change@{view\+Change}}
\index{view\+Change@{view\+Change}!views.\+py@{views.\+py}}
\subsubsection[{\texorpdfstring{view\+Change()}{viewChange()}}]{\setlength{\rightskip}{0pt plus 5cm}app.\+views.\+view\+Change (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{views_8py_file_accb2808eb43d7b94fb79c6d0ab01c5c3}{}\label{views_8py_file_accb2808eb43d7b94fb79c6d0ab01c5c3}


handles routing for changing the client\textquotesingle{}s view of the current day/week/month/year 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em J\+S\+ON} & This is an implicit parameter passed along via Flask\textquotesingle{}s request construct. It is reconstructed as a dictionary on entry to this method. \\
\hline
\mbox{\tt out}  & {\em return} & Returns a J\+S\+O\+N-\/style object representing the status and a link to redirect to for client-\/side\\
\hline
\end{DoxyParams}
The view\+Change method will attempt to parse J\+S\+O\+N-\/style form data sent from the client-\/side representing a new view request. Acceptable values for the \textquotesingle{}view\textquotesingle{} key are \textquotesingle{}next\textquotesingle{}, \textquotesingle{}prev\textquotesingle{}, \textquotesingle{}day\textquotesingle{}, \textquotesingle{}week\textquotesingle{}, \textquotesingle{}month\textquotesingle{}, or \textquotesingle{}year\textquotesingle{}.

When necessary, the server-\/side calendar object is updated to point to the next or previous day. In this case, a link for the index in day view is provided in the return. Otherwise, a link to index is provided with a view matching the view specfified by the J\+S\+ON.

Assumes \textquotesingle{}view\textquotesingle{} is present and has a value. 